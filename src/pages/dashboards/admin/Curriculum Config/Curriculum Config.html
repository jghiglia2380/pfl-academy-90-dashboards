<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Curriculum Configuration Preview</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        body {
            background-color: rgb(249, 250, 251);
        }

        .platform-card {
            transition: all 0.2s ease-in-out;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .platform-card:hover:not(.disabled) {
            border-color: rgb(79, 70, 229);
            transform: translateY(-2px);
            box-shadow: 0 4px 6px -1px rgba(79, 70, 229, 0.1), 0 2px 4px -1px rgba(79, 70, 229, 0.06);
        }

        .platform-card.selected {
            border-color: rgb(79, 70, 229);
            background-color: rgb(238, 242, 255);
            box-shadow: 0 4px 6px -1px rgba(79, 70, 229, 0.1), 0 2px 4px -1px rgba(79, 70, 229, 0.06);
        }

        .platform-card.disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .custom-select {
            appearance: none;
            background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3E%3Cpath stroke='%236B7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3E%3C/svg%3E");
            background-position: right 0.5rem center;
            background-repeat: no-repeat;
            background-size: 1.5em 1.5em;
        }

        .standard-item {
            transition: all 0.2s ease-in-out;
            box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
        }

        .standard-item:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }

        .chapter-item {
            transition: all 0.2s ease-in-out;
            box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
        }

        .chapter-item:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }

        .main-container {
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            border: 1px solid rgba(229, 231, 235, 1);
        }

        .builder-container {
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            border: 1px solid rgba(229, 231, 235, 1);
        }

        .standards-container {
            background: linear-gradient(to bottom right, rgb(238, 242, 255), rgb(249, 250, 251));
        }

        .deployment-container {
            background: linear-gradient(to bottom, rgb(243, 244, 246), rgb(249, 250, 251));
        }
    </style>
</head>
<body class="min-h-screen py-8 bg-gradient-to-br from-gray-50 to-gray-100">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="main-container bg-white rounded-xl overflow-hidden">
            <div class="px-6 py-8">
                <div class="flex justify-between items-center mb-8">
                    <h1 class="text-3xl font-bold text-gray-900">Curriculum Configuration</h1>
                    <button class="flex items-center gap-2 px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors shadow-lg hover:shadow-xl">
                        <i class="fas fa-save w-5 h-5"></i>
                        Save Configuration
                    </button>
                </div>

                <!-- State Selection -->
                <div class="mb-8 bg-white rounded-lg p-6 shadow-md border border-gray-100">
                    <label class="block text-sm font-medium text-gray-700 mb-2">
                        State
                    </label>
                    <div class="relative">
                        <select id="stateSelect" class="custom-select block w-full pl-3 pr-10 py-2 text-base border border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md">
                            <option value="AL">Alabama</option>
                            <option value="CA">California</option>
                            <option value="CT">Connecticut</option>
                            <option value="FL">Florida</option>
                            <option value="GA">Georgia</option>
                            <option value="IN">Indiana</option>
                            <option value="IA">Iowa</option>
                            <option value="KS">Kansas</option>
                            <option value="KY">Kentucky</option>
                            <option value="LA">Louisiana</option>
                            <option value="MI">Michigan</option>
                            <option value="MN">Minnesota</option>
                            <option value="MS">Mississippi</option>
                            <option value="MO">Missouri</option>
                            <option value="NE">Nebraska</option>
                            <option value="NH">New Hampshire</option>
                            <option value="NC">North Carolina</option>
                            <option value="OH">Ohio</option>
                            <option value="OK" selected>Oklahoma</option>
                            <option value="OR">Oregon</option>
                            <option value="PA">Pennsylvania</option>
                            <option value="RI">Rhode Island</option>
                            <option value="SC">South Carolina</option>
                            <option value="TN">Tennessee</option>
                            <option value="UT">Utah</option>
                            <option value="VA">Virginia</option>
                            <option value="WV">West Virginia</option>
                            <option value="WI">Wisconsin</option>
                        </select>
                    </div>
                    <div class="mt-2">
                        <p id="stateRequirement" class="text-sm text-amber-600">
                            Note: Oklahoma requires the 90-hour synchronous platform for high school graduation.
                        </p>
                        <p id="requirementDetails" class="mt-2 text-sm text-gray-600">
                            Requirement: Half-unit course (Class of 2029)
                        </p>
                    </div>
                </div>

                <!-- Platform Selection -->
                <div class="bg-white rounded-lg p-6 shadow-md border border-gray-100">
                    <label class="block text-sm font-medium text-gray-700 mb-4">
                        Platform Selection
                    </label>
                    <div class="space-y-4">
                        <!-- Synchronous 90-Hour Platform -->
                        <div class="platform-card selected relative rounded-lg border p-4 cursor-pointer" data-platform="sync-90">
                            <div class="flex justify-between">
                                <div class="flex items-center">
                                    <div class="text-sm">
                                        <p class="font-medium text-gray-900">Synchronous 90-Hour Platform</p>
                                        <p class="text-gray-500">Complete synchronous platform aligned with Oklahoma state requirements for high school graduation</p>
                                    </div>
                                </div>
                                <div class="flex items-center">
                                    <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800">
                                        synchronous
                                    </span>
                                    <span class="ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800">
                                        90 hours
                                    </span>
                                </div>
                            </div>
                        </div>

                        <!-- Asynchronous 45-Hour Platform -->
                        <div class="platform-card disabled relative rounded-lg border p-4 cursor-pointer" data-platform="async-45">
                            <div class="flex justify-between">
                                <div class="flex items-center">
                                    <div class="text-sm">
                                        <p class="font-medium text-gray-900">Asynchronous 45-Hour Platform</p>
                                        <p class="text-gray-500">Flexible asynchronous learning platform for shorter course requirements</p>
                                    </div>
                                </div>
                                <div class="flex items-center">
                                    <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800">
                                        asynchronous
                                    </span>
                                    <span class="ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800">
                                        45 hours
                                    </span>
                                </div>
                            </div>
                        </div>

                        <!-- Asynchronous 30-Hour Platform -->
                        <div class="platform-card disabled relative rounded-lg border p-4 cursor-pointer" data-platform="async-30">
                            <div class="flex justify-between">
                                <div class="flex items-center">
                                    <div class="text-sm">
                                        <p class="font-medium text-gray-900">Asynchronous 30-Hour Platform</p>
                                        <p class="text-gray-500">Condensed asynchronous platform for basic financial literacy requirements</p>
                                    </div>
                                </div>
                                <div class="flex items-center">
                                    <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800">
                                        asynchronous
                                    </span>
                                    <span class="ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800">
                                        30 hours
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Standards Notice -->
                <div class="mt-8 bg-gradient-to-r from-indigo-50 to-indigo-100 p-6 rounded-lg shadow-md">
                    <h3 class="text-sm font-medium text-gray-900">Standards Information</h3>
                    <p id="standardsInfo" class="mt-2 text-sm text-gray-500">
                        Custom standards and chapters are available for Oklahoma. These are configured to meet state-specific requirements.
                    </p>
                </div>

                <!-- Custom Curriculum Builder -->
                <div class="mt-8">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-xl font-bold text-gray-900">Custom Curriculum Builder</h3>
                        <button id="toggleBuilder" class="text-sm text-indigo-600 hover:text-indigo-500 font-medium">
                            <i class="fas fa-plus mr-1"></i> Build Custom Curriculum
                        </button>
                    </div>
                    
                    <div id="builderSection" class="hidden builder-container bg-white rounded-xl p-6">
                        <div class="grid grid-cols-2 gap-6">
                            <!-- Available Standards -->
                            <div class="standards-container border rounded-xl p-6 shadow-lg">
                                <h4 class="text-sm font-medium text-gray-700 mb-3">Available Standards</h4>
                                <div class="space-y-2">
                                    <div class="standard-item p-2 border rounded cursor-move hover:bg-gray-50" draggable="true">
                                        <div class="flex justify-between items-center">
                                            <span class="text-sm font-medium">Standard 1: Jobs vs. Careers</span>
                                            <span class="text-xs text-gray-500">5 chapters</span>
                                        </div>
                                    </div>
                                    <div class="standard-item p-2 border rounded cursor-move hover:bg-gray-50" draggable="true">
                                        <div class="flex justify-between items-center">
                                            <span class="text-sm font-medium">Standard 2: Taxes</span>
                                            <span class="text-xs text-gray-500">5 chapters</span>
                                        </div>
                                    </div>
                                    <div class="standard-item p-2 border rounded cursor-move hover:bg-gray-50" draggable="true">
                                        <div class="flex justify-between items-center">
                                            <span class="text-sm font-medium">Standard 3: Financial Service Providers</span>
                                            <span class="text-xs text-gray-500">2 chapters</span>
                                        </div>
                                    </div>
                                    <div class="standard-item p-2 border rounded cursor-move hover:bg-gray-50" draggable="true">
                                        <div class="flex justify-between items-center">
                                            <span class="text-sm font-medium">Standard 4: Managing a Bank Account</span>
                                            <span class="text-xs text-gray-500">1 chapter</span>
                                        </div>
                                    </div>
                                    <div class="standard-item p-2 border rounded cursor-move hover:bg-gray-50" draggable="true">
                                        <div class="flex justify-between items-center">
                                            <span class="text-sm font-medium">Standard 5: Saving and Investing</span>
                                            <span class="text-xs text-gray-500">5 chapters</span>
                                        </div>
                                    </div>
                                    <div class="standard-item p-2 border rounded cursor-move hover:bg-gray-50" draggable="true">
                                        <div class="flex justify-between items-center">
                                            <span class="text-sm font-medium">Standard 6: Retirement Planning</span>
                                            <span class="text-xs text-gray-500">2 chapters</span>
                                        </div>
                                    </div>
                                    <div class="standard-item p-2 border rounded cursor-move hover:bg-gray-50" draggable="true">
                                        <div class="flex justify-between items-center">
                                            <span class="text-sm font-medium">Standard 7: Borrowing Money</span>
                                            <span class="text-xs text-gray-500">5 chapters</span>
                                        </div>
                                    </div>
                                    <div class="standard-item p-2 border rounded cursor-move hover:bg-gray-50" draggable="true">
                                        <div class="flex justify-between items-center">
                                            <span class="text-sm font-medium">Standard 8: Credit Cards and Online Shopping</span>
                                            <span class="text-xs text-gray-500">2 chapters</span>
                                        </div>
                                    </div>
                                    <div class="standard-item p-2 border rounded cursor-move hover:bg-gray-50" draggable="true">
                                        <div class="flex justify-between items-center">
                                            <span class="text-sm font-medium">Standard 9: Fraud and Identity Theft</span>
                                            <span class="text-xs text-gray-500">2 chapters</span>
                                        </div>
                                    </div>
                                    <div class="standard-item p-2 border rounded cursor-move hover:bg-gray-50" draggable="true">
                                        <div class="flex justify-between items-center">
                                            <span class="text-sm font-medium">Standard 10: Renting vs. Buying</span>
                                            <span class="text-xs text-gray-500">3 chapters</span>
                                        </div>
                                    </div>
                                    <div class="standard-item p-2 border rounded cursor-move hover:bg-gray-50" draggable="true">
                                        <div class="flex justify-between items-center">
                                            <span class="text-sm font-medium">Standard 11: Risk Management and Insurance</span>
                                            <span class="text-xs text-gray-500">3 chapters</span>
                                        </div>
                                    </div>
                                    <div class="standard-item p-2 border rounded cursor-move hover:bg-gray-50" draggable="true">
                                        <div class="flex justify-between items-center">
                                            <span class="text-sm font-medium">Standard 12: Gambling</span>
                                            <span class="text-xs text-gray-500">2 chapters</span>
                                        </div>
                                    </div>
                                    <div class="standard-item p-2 border rounded cursor-move hover:bg-gray-50" draggable="true">
                                        <div class="flex justify-between items-center">
                                            <span class="text-sm font-medium">Standard 13: Bankruptcy (Debt Management)</span>
                                            <span class="text-xs text-gray-500">1 chapter</span>
                                        </div>
                                    </div>
                                    <div class="standard-item p-2 border rounded cursor-move hover:bg-gray-50" draggable="true">
                                        <div class="flex justify-between items-center">
                                            <span class="text-sm font-medium">Standard 14: Charitable Contributions</span>
                                            <span class="text-xs text-gray-500">2 chapters</span>
                                        </div>
                                    </div>
                                    <div class="standard-item p-2 border rounded cursor-move hover:bg-gray-50" draggable="true">
                                        <div class="flex justify-between items-center">
                                            <span class="text-sm font-medium">Standard 15: Career Readiness</span>
                                            <span class="text-xs text-gray-500">5 chapters</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Custom Curriculum -->
                            <div class="border rounded-xl p-6 shadow-lg bg-white">
                                <div class="mb-4">
                                    <label class="block text-sm font-medium text-gray-700 mb-1">Curriculum Title</label>
                                    <input type="text" id="curriculumTitle" class="block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm" placeholder="Enter a title for your custom curriculum">
                                </div>
                                <h4 class="text-sm font-medium text-gray-700 mb-3">Your Custom Curriculum</h4>
                                <div id="customCurriculum" class="space-y-2 min-h-[200px] border-2 border-dashed border-indigo-300 rounded-xl p-4 bg-indigo-50 hover:bg-indigo-100 transition-colors">
                                    <p class="text-sm text-gray-500 text-center">Drag standards here to build your custom curriculum</p>
                                </div>
                                <div class="mt-6 flex justify-end">
                                    <button id="generateCurriculum" class="inline-flex items-center px-6 py-3 border border-transparent text-sm font-medium rounded-lg shadow-lg text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all hover:shadow-xl">
                                        <i class="fas fa-magic mr-2"></i>
                                        Generate Custom Curriculum
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- Deployment Options -->
                        <div id="deploymentSection" class="mt-8 hidden deployment-container rounded-xl p-6 shadow-lg">
                            <h4 class="text-sm font-medium text-gray-700 mb-3">Deployment Options</h4>
                            <div class="grid grid-cols-3 gap-4">
                                <div class="border rounded-lg p-4">
                                    <h5 class="text-sm font-medium text-gray-900 mb-2">Deploy to District</h5>
                                    <select id="districtSelect" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm">
                                        <option value="">Select District</option>
                                        <option value="district1">Oklahoma City Public Schools</option>
                                        <option value="district2">Tulsa Public Schools</option>
                                        <option value="district3">Edmond Public Schools</option>
                                    </select>
                                </div>
                                <div class="border rounded-lg p-4">
                                    <h5 class="text-sm font-medium text-gray-900 mb-2">Deploy to School</h5>
                                    <select id="schoolSelect" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm">
                                        <option value="">Select School</option>
                                        <option value="school1">Central High School</option>
                                        <option value="school2">East High School</option>
                                        <option value="school3">West High School</option>
                                    </select>
                                </div>
                                <div class="border rounded-lg p-4">
                                    <h5 class="text-sm font-medium text-gray-900 mb-2">Deploy to Class</h5>
                                    <select id="classSelect" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm">
                                        <option value="">Select Class</option>
                                        <option value="class1">Personal Finance 101</option>
                                        <option value="class2">Financial Literacy</option>
                                        <option value="class3">Economics</option>
                                    </select>
                                </div>
                            </div>
                            <div class="mt-4 flex justify-end">
                                <button id="saveDeployment" class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500">
                                    <i class="fas fa-save mr-2"></i>
                                    Save Deployment
                                </button>
                            </div>
                        </div>

                        <!-- Chapter Selection -->
                        <div id="chapterSection" class="mt-6 hidden bg-white rounded-xl p-6 shadow-md border border-gray-100">
                            <h4 class="text-sm font-medium text-gray-700 mb-3">Available Chapters</h4>
                            <div id="availableChapters" class="grid grid-cols-3 gap-2">
                                <!-- Chapters will be dynamically populated here -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const stateRequirements = {
            'AL': { requirement: 'One-year Career Preparedness course', graduatingClass: 2013 },
            'CA': { requirement: 'One-semester course', graduatingClass: 2031 },
            'CT': { requirement: 'Half-credit course', graduatingClass: 2027 },
            'FL': { requirement: 'Half-credit course', graduatingClass: 2027 },
            'GA': { requirement: 'Half-credit course', graduatingClass: 2028 },
            'IN': { requirement: 'One-semester course', graduatingClass: 2028 },
            'IA': { requirement: 'Half-unit course', graduatingClass: 2023 },
            'KS': { requirement: 'Half-credit course', graduatingClass: 2027 },
            'KY': { requirement: 'One-credit course', graduatingClass: 2030 },
            'LA': { requirement: 'One-unit course', graduatingClass: 2027 },
            'MI': { requirement: 'Half-credit course', graduatingClass: 2028 },
            'MN': { requirement: 'Course required', graduatingClass: 2028 },
            'MS': { requirement: 'One-year College & Career Readiness course', graduatingClass: 2022 },
            'MO': { requirement: 'Half-credit course', graduatingClass: 2010 },
            'NE': { requirement: 'One-semester course', graduatingClass: 2024 },
            'NH': { requirement: 'One-semester course', graduatingClass: 2027 },
            'NC': { requirement: 'One-year Economics and Personal Finance course', graduatingClass: 2024 },
            'OH': { requirement: 'One-semester course', graduatingClass: 2026 },
            'OK': { requirement: 'Half-unit course', graduatingClass: 2029 },
            'OR': { requirement: 'Half-credit course', graduatingClass: 2027 },
            'PA': { requirement: 'One-semester course', graduatingClass: 2030 },
            'RI': { requirement: 'Demonstrated proficiency', graduatingClass: 2024 },
            'SC': { requirement: 'Half-credit course', graduatingClass: 2028 },
            'TN': { requirement: 'Half-credit course', graduatingClass: 2013 },
            'UT': { requirement: 'One-semester General Financial Literacy course', graduatingClass: 2008 },
            'VA': { requirement: 'One-year Economics and Personal Finance course', graduatingClass: 2015 },
            'WV': { requirement: 'One-semester course', graduatingClass: 2028 },
            'WI': { requirement: 'Half-credit course', graduatingClass: 2028 }
        };

        const stateSelect = document.getElementById('stateSelect');
        const stateRequirement = document.getElementById('stateRequirement');
        const requirementDetails = document.getElementById('requirementDetails');
        const standardsInfo = document.getElementById('standardsInfo');
        const platformCards = document.querySelectorAll('.platform-card');

        // State change handler
        stateSelect.addEventListener('change', function() {
            const selectedState = this.value;
            const stateName = this.options[this.selectedIndex].text;
            const stateData = stateRequirements[selectedState];
            
            if (selectedState === 'OK') {
                stateRequirement.textContent = `Note: ${stateName} requires the 90-hour synchronous platform for high school graduation.`;
                stateRequirement.style.display = 'block';
                standardsInfo.textContent = `Custom standards and chapters are available for ${stateName}. These are configured to meet state-specific requirements.`;
                
                // Disable async platforms
                platformCards.forEach(card => {
                    if (card.dataset.platform !== 'sync-90') {
                        card.classList.add('disabled');
                        card.classList.remove('selected');
                    } else {
                        card.classList.remove('disabled');
                        card.classList.add('selected');
                    }
                });
            } else {
                stateRequirement.style.display = 'none';
                standardsInfo.textContent = `Standard financial literacy curriculum will be used for ${stateName}. State-specific standards are coming soon.`;
                
                // Enable all platforms
                platformCards.forEach(card => {
                    card.classList.remove('disabled');
                });
            }

            // Update requirement details
            requirementDetails.textContent = `Requirement: ${stateData.requirement} (Class of ${stateData.graduatingClass})`;
        });

        // Platform selection handler
        platformCards.forEach(card => {
            card.addEventListener('click', function() {
                if (!this.classList.contains('disabled')) {
                    platformCards.forEach(c => c.classList.remove('selected'));
                    this.classList.add('selected');
                }
            });
        });

        // Custom Curriculum Builder functionality
        const toggleBuilder = document.getElementById('toggleBuilder');
        const builderSection = document.getElementById('builderSection');
        const chapterSection = document.getElementById('chapterSection');
        const availableChapters = document.getElementById('availableChapters');
        const deploymentSection = document.getElementById('deploymentSection');
        const customCurriculum = document.getElementById('customCurriculum');
        const standardItems = document.querySelectorAll('.standard-item');
        const chapterItems = document.querySelectorAll('.chapter-item');
        const curriculumTitle = document.getElementById('curriculumTitle');
        const generateCurriculum = document.getElementById('generateCurriculum');
        const saveDeployment = document.getElementById('saveDeployment');
        const districtSelect = document.getElementById('districtSelect');
        const schoolSelect = document.getElementById('schoolSelect');
        const classSelect = document.getElementById('classSelect');

        toggleBuilder.addEventListener('click', () => {
            builderSection.classList.toggle('hidden');
            const isOpen = !builderSection.classList.contains('hidden');
            toggleBuilder.innerHTML = isOpen 
                ? '<i class="fas fa-minus mr-1"></i> Hide Builder'
                : '<i class="fas fa-plus mr-1"></i> Build Custom Curriculum';
        });

        // Drag and drop functionality
        standardItems.forEach(item => {
            item.addEventListener('dragstart', (e) => {
                e.dataTransfer.setData('text/plain', item.innerHTML);
                item.classList.add('opacity-50');
            });

            item.addEventListener('dragend', () => {
                item.classList.remove('opacity-50');
            });
        });

        chapterItems.forEach(item => {
            item.addEventListener('dragstart', (e) => {
                e.dataTransfer.setData('text/plain', item.innerHTML);
                item.classList.add('opacity-50');
            });

            item.addEventListener('dragend', () => {
                item.classList.remove('opacity-50');
            });
        });

        customCurriculum.addEventListener('dragover', (e) => {
            e.preventDefault();
            customCurriculum.classList.add('border-indigo-500');
        });

        customCurriculum.addEventListener('dragleave', () => {
            customCurriculum.classList.remove('border-indigo-500');
        });

        customCurriculum.addEventListener('drop', (e) => {
            e.preventDefault();
            customCurriculum.classList.remove('border-indigo-500');
            
            const data = e.dataTransfer.getData('text/plain');
            const newItem = document.createElement('div');
            newItem.className = 'p-2 border rounded bg-gray-50 mb-2';
            newItem.innerHTML = data;
            
            // Remove the placeholder text if it exists
            if (customCurriculum.querySelector('p.text-center')) {
                customCurriculum.querySelector('p.text-center').remove();
            }
            
            customCurriculum.appendChild(newItem);
            
            // Show chapter section when a standard is added
            if (data.includes('Standard')) {
                chapterSection.classList.remove('hidden');
                // Clear existing chapters
                availableChapters.innerHTML = '';
                
                // Get the standard number from the dropped item
                const standardNumber = data.match(/Standard (\d+)/)[1];
                
                // Create chapter items based on the standard
                const chapterCount = parseInt(data.match(/(\d+) chapters?/)[1]);
                for (let i = 1; i <= chapterCount; i++) {
                    const chapterItem = document.createElement('div');
                    chapterItem.className = 'chapter-item p-2 border rounded cursor-move hover:bg-gray-50';
                    chapterItem.draggable = true;
                    chapterItem.innerHTML = `<span class="text-sm">Chapter ${i}: ${getChapterTitle(standardNumber, i)}</span>`;
                    availableChapters.appendChild(chapterItem);
                }
            }
        });

        // Helper function to get chapter titles
        function getChapterTitle(standardNumber, chapterNumber) {
            const chapterTitles = {
                '1': {
                    '1': 'Jobs vs. Careers',
                    '2': 'Paying for Post-Secondary Education',
                    '3': 'Income and Taxes',
                    '4': 'Financial Goal Setting',
                    '5': 'Managing Your Income Effectively'
                },
                '2': {
                    '1': 'Understanding Federal and State Taxes',
                    '2': 'Understanding Tax Brackets and Tax Rates',
                    '3': 'Understanding Tax Filing Requirements',
                    '4': 'Understanding Tax Deductions and Credits',
                    '5': 'Tax Planning and Compliance'
                },
                '3': {
                    '1': 'Understanding Different Types of Financial Service Providers',
                    '2': 'Choosing and Evaluating Financial Service Providers'
                },
                '4': {
                    '1': 'Understanding and Using Banking Tools'
                },
                '5': {
                    '1': 'Getting Started Saving and Investing',
                    '2': 'Understanding the Power of Compound Interest and the Rule of 72',
                    '3': 'Evaluating Saving and Investment Strategies',
                    '4': 'Time is Money â€“ Developing a Savings and Investment Strategy',
                    '5': 'Understanding Monetary Risks in Saving and Investing'
                },
                '6': {
                    '1': 'Planning for Your Retirement',
                    '2': 'Longevity and Retirement Planning'
                },
                '7': {
                    '1': 'Understanding the Cost of Borrowing',
                    '2': 'Choosing the Right Source of Credit',
                    '3': 'Understanding Your Credit Score and Its Impact',
                    '4': 'Managing Credit Responsibly',
                    '5': 'Dealing with Credit Problems'
                }
            };
            
            return chapterTitles[standardNumber]?.[chapterNumber] || `Chapter ${chapterNumber}`;
        }

        // Generate Curriculum button handler
        generateCurriculum.addEventListener('click', () => {
            const title = curriculumTitle.value.trim();
            if (!title) {
                alert('Please enter a title for your custom curriculum');
                return;
            }

            const selectedStandards = Array.from(customCurriculum.children)
                .filter(item => !item.classList.contains('text-center'))
                .map(item => item.innerHTML);

            if (selectedStandards.length === 0) {
                alert('Please add at least one standard to your curriculum');
                return;
            }

            const curriculumData = {
                title: title,
                standards: selectedStandards,
                state: stateSelect.value,
                platform: document.querySelector('.platform-card.selected').dataset.platform,
                createdAt: new Date().toISOString(),
                status: 'draft'
            };

            console.log('Generating custom curriculum:', curriculumData);

            // Show deployment options
            deploymentSection.classList.remove('hidden');
            generateCurriculum.disabled = true;
            generateCurriculum.innerHTML = '<i class="fas fa-check mr-2"></i> Curriculum Generated';
            generateCurriculum.classList.remove('bg-indigo-600', 'hover:bg-indigo-700');
            generateCurriculum.classList.add('bg-gray-600', 'hover:bg-gray-700');
        });

        // Save Deployment button handler
        saveDeployment.addEventListener('click', () => {
            const deploymentTargets = {
                district: districtSelect.value,
                school: schoolSelect.value,
                class: classSelect.value
            };

            if (!deploymentTargets.district && !deploymentTargets.school && !deploymentTargets.class) {
                alert('Please select at least one deployment target');
                return;
            }

            const deploymentData = {
                curriculum: {
                    title: curriculumTitle.value,
                    standards: Array.from(customCurriculum.children)
                        .filter(item => !item.classList.contains('text-center'))
                        .map(item => item.innerHTML)
                },
                deployment: deploymentTargets,
                state: stateSelect.value,
                platform: document.querySelector('.platform-card.selected').dataset.platform,
                deployedAt: new Date().toISOString()
            };

            console.log('Saving deployment:', deploymentData);
            alert('Curriculum deployed successfully!');
            
            // Reset the form
            deploymentSection.classList.add('hidden');
            generateCurriculum.disabled = false;
            generateCurriculum.innerHTML = '<i class="fas fa-magic mr-2"></i> Generate Custom Curriculum';
            generateCurriculum.classList.remove('bg-gray-600', 'hover:bg-gray-700');
            generateCurriculum.classList.add('bg-indigo-600', 'hover:bg-indigo-700');
            curriculumTitle.value = '';
            customCurriculum.innerHTML = '<p class="text-sm text-gray-500 text-center">Drag standards here to build your custom curriculum</p>';
            districtSelect.value = '';
            schoolSelect.value = '';
            classSelect.value = '';
        });

        // Save button handler
        document.querySelector('button').addEventListener('click', function() {
            const selectedState = stateSelect.value;
            const selectedPlatform = document.querySelector('.platform-card.selected').dataset.platform;
            const customCurriculumItems = Array.from(customCurriculum.children)
                .filter(item => !item.classList.contains('text-center'))
                .map(item => item.innerHTML);
            
            console.log('Saving configuration:', {
                state: selectedState,
                platform: selectedPlatform,
                customCurriculum: {
                    title: curriculumTitle.value,
                    items: customCurriculumItems,
                    deployment: {
                        district: districtSelect.value,
                        school: schoolSelect.value,
                        class: classSelect.value
                    }
                }
            });
        });
    </script>
</body>
</html> 